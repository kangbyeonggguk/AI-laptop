"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[106],{7106:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var n=a(2791),t=a(9508),l=a(7689),i=a(3329);const o=()=>{const{isLoading:e,sendRequest:s,clearError:a,setIsLoading:o}=(0,t.x)(),c=(0,l.s0)(),r={id:"",password:"",confirmPassword:"",name:"",email:"",phoneNumber:"",platformType:""},[d,u]=(0,n.useState)(r),[p,m]=(0,n.useState)(null),[h,b]=(0,n.useState)(!0),[g,f]=(0,n.useState)(!1),[x,N]=(0,n.useState)(""),[w,j]=(0,n.useState)(""),[y,v]=(0,n.useState)(!1),[k,C]=(0,n.useState)(!1),[S,_]=(0,n.useState)(1);(0,n.useEffect)((()=>{function e(){window.innerWidth<768?C(!0):C(!1)}return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const P=e=>{const{name:s,value:a}=e.target;if("email"===s){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a);f(!e)}if("phoneNumber"===s){const e=a.replace(/[^0-9]/g,"").replace(/(\d{3})(\d{0,4})(\d{0,4})/,((e,s,a,n)=>{let t=s;return a&&(t+="-".concat(a)),n&&(t+="-".concat(n)),t}));u((a=>({...a,[s]:e})))}else u((e=>({...e,[s]:a})));if("password"===s){const e=L(a);u({...d,[s]:a}),e?(v(!1),j("")):(v(!0),j("\uc601\ubb38 \ub300/\uc18c\ubb38\uc790, \uc22b\uc790, \ud2b9\uc218\ubb38\uc790 \uc911 2\uac00\uc9c0 \uc774\uc0c1 \uc870\ud569\ud558\uc5ec 8~16\uc790\ub97c \uc785\ub825\ud558\uc138\uc694."))}"confirmPassword"===s?b(a!==d.password):"password"===s&&d.confirmPassword?b(d.confirmPassword!==a):b(!1),"id"===s&&m(null)},L=e=>{const s=/[a-z]/.test(e),a=/[A-Z]/.test(e),n=/[0-9]/.test(e),t=/[@$!%*?&]/.test(e),l=e.length>=8&&e.length<=16;let i=0;return s&&i++,a&&i++,n&&i++,t&&i++,i>=2&&l};return(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"signup-text",children:"\ud68c\uc6d0\uac00\uc785"}),(0,i.jsxs)("form",{className:"signup-form",children:[(0,i.jsxs)("div",{style:{display:k&&1!==S?"none":"block"},children:[(0,i.jsx)("label",{className:"signup-label",children:"\uc544\uc774\ub514 "}),(0,i.jsxs)("div",{className:"id-content",children:[(0,i.jsx)("input",{type:"text",name:"id",value:d.id,onChange:P,className:"id-input",placeholder:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."}),(0,i.jsx)("button",{type:"button",className:"double_check",onClick:async()=>{if(d.id.length<4)return N("4\uae00\uc790 \uc774\uc0c1 \uc785\ub825\ud558\uc138\uc694."),void m(null);N("");try{const e=await s("".concat("http://127.0.0.1:8000","/accounts/duplicate?id=").concat(d.id));e&&200===e.status?e.data.isidAvailable?N("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc544\uc774\ub514\uc785\ub2c8\ub2e4."):N("\uc774\ubbf8 \uc0ac\uc6a9\uc911\uc778 \uc544\uc774\ub514\uc785\ub2c8\ub2e4."):e&&400===e.status?N("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc544\uc774\ub514\uc785\ub2c8\ub2e4."):(console.error("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc544\uc774\ub514:",e),m(!0))}catch(y){m()}},children:"\uc911\ubcf5\ud655\uc778"})]}),x&&(0,i.jsx)("p",{className:"isuserid_available",children:x}),null!==p&&(0,i.jsx)("p",{className:"isuserid_available ".concat(p?"available":"used"),children:p?"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc544\uc774\ub514\uc785\ub2c8\ub2e4.":"\uc774\ubbf8 \uc0ac\uc6a9 \uc911\uc778 \uc544\uc774\ub514\uc785\ub2c8\ub2e4."}),(0,i.jsx)("label",{className:"signup-label",children:"\ube44\ubc00\ubc88\ud638 "}),(0,i.jsx)("input",{className:"signup-input ".concat(y?"error-border":""),type:"password",name:"password",value:d.password,onChange:P,placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."}),w&&(0,i.jsx)("p",{className:"password_mismatch",children:w}),(0,i.jsx)("label",{className:"signup-label",children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778 "}),(0,i.jsx)("input",{className:"signup-input ".concat(d.confirmPassword&&h?"error-border":""),type:"password",name:"confirmPassword",value:d.confirmPassword,onChange:P,placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \ub2e4\uc2dc \uc785\ub825\ud574\uc8fc\uc138\uc694."}),h&&d.confirmPassword&&(0,i.jsx)("p",{className:"password_mismatch",children:"\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc785\ub825\ud574\uc8fc\uc138\uc694."})]}),(0,i.jsxs)("div",{style:{display:k&&2!==S?"none":"block"},children:[(0,i.jsx)("label",{className:"signup-label",children:"\uc774\ub984"}),(0,i.jsx)("input",{type:"text",name:"name",value:d.name,onChange:P,placeholder:"\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",className:"signup-input"}),(0,i.jsx)("label",{className:"signup-label",children:"\uc774\uba54\uc77c"}),(0,i.jsx)("input",{type:"email",name:"email",value:d.email,onChange:P,placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",className:"signup-input"}),g&&d.email&&(0,i.jsx)("p",{className:"invalid_email",children:"\uc798\ubabb\ub41c \ud615\uc2dd\uc758 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4. \ub2e4\uc2dc \uc785\ub825\ud574\uc8fc\uc138\uc694."}),(0,i.jsx)("label",{className:"signup-label",children:"\ud734\ub300\uc804\ud654"}),(0,i.jsx)("input",{type:"tel",name:"phoneNumber",value:d.phoneNumber,onChange:P,placeholder:"\ud734\ub300\uc804\ud654 \ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",className:"signup-input"})]})]}),(0,i.jsxs)("div",{className:"signup-bottom",children:[(0,i.jsx)("button",{type:"button",className:"reset_button",onClick:()=>{u(r),b(!1),m(null)},children:"\ucd08\uae30\ud654"}),(0,i.jsx)("button",{className:"signup-next",style:{display:k&&1===S?"block":"none",marginLeft:"0.5rem",background:"#4F80FF",border:"none",color:"#ffffff"},onClick:()=>{1===S&&_(2)},children:1===S?"\ub2e4\uc74c\uc73c\ub85c":"\ub2e4\uc74c \ub2e8\uacc4"}),(0,i.jsx)("button",{type:"button",className:"signup_button",onClick:async()=>{if(d.id.length<4||!1===p||!L(d.password)||h||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||!/^010-([0-9]{4})-([0-9]{4})$/.test(d.phoneNumber)||""===d.name.trim()||""===d.phoneNumber.trim())alert("\ubaa8\ub450 \uc62c\ubc14\ub974\uac8c \uc791\uc131\ud558\uc138\uc694.");else try{const e={id:d.id,platform_type:"R",admin:!1,password:d.password,nickname:d.name,email:d.email,phonenumber:d.phoneNumber,create_date:(new Date).toISOString()};await s("".concat("http://127.0.0.1:8000","/accounts"),"POST",JSON.stringify(e),{"Content-Type":"application/json"});console.log("\uc131\uacf5"),c("/login")}catch(e){console.log("\uc2e4\ud328")}},style:{display:k?2===S?"block":"none":"block"},children:"\ud68c\uc6d0\uac00\uc785 \ud558\uae30"})]})]})}}}]);
//# sourceMappingURL=106.8dd463a9.chunk.js.map